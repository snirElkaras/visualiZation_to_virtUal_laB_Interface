package parsers.planParser;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNull;

import java.io.ByteArrayInputStream;
import java.io.InputStream;
import java.util.ArrayList;

import javax.xml.parsers.DocumentBuilder;
import javax.xml.parsers.DocumentBuilderFactory;

import org.junit.Before;
import org.junit.Test;
import org.w3c.dom.Document;
import org.w3c.dom.Node;
import org.w3c.dom.NodeList;

import Utils.ParsersUtils;

public class XMLReaderTest {

	private static Node root;
	private static Node badExample;
	@Before
	public void setUp() throws Exception {
		try {
			String fileContent = ParsersUtils.fileToString(ParsersUtils.path+"PlanViewExample.xml");
			DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();
			DocumentBuilder db = dbf.newDocumentBuilder();
			InputStream is = new ByteArrayInputStream(fileContent.getBytes("UTF-8"));
			Document doc = db.parse(is);
			doc.getDocumentElement().normalize();
			NodeList nodeLstRoot = doc.getElementsByTagName("ROOT");
			root = nodeLstRoot.item(0);
			is.close();
			
			fileContent = ParsersUtils.fileToString(ParsersUtils.path+"corruptedFile.xml");
			dbf = DocumentBuilderFactory.newInstance();
			db = dbf.newDocumentBuilder();
			is = new ByteArrayInputStream(fileContent.getBytes("UTF-8"));
			doc = db.parse(is);
			doc.getDocumentElement().normalize();
			nodeLstRoot = doc.getElementsByTagName("ROOT");
			badExample = nodeLstRoot.item(0);
			is.close();
		}
		catch (Exception e) {
			e.printStackTrace();
		}
	}

	@Test
	public void checkReasonableTest() {
		CheckReasonableResult result = XMLReader.checkReasonable(root);
		ArrayList<State> states = result.getListOfStates();
		String actual = states.toString();
		String expected = "[State [information=InformationState [amount_A=150.04, amount_B=0.0, amount_C=49.910000000000004, amount_D=150.14, actualAmount_A=0.375, actualAmount_B=0.0, actualAmount_C=0.125, actualAmount_D=0.375, totalVol=400.0, hasReaction=false, isReasonable=true, hasChildrenWithReaction=true, isHigherCompAct=true, Color=Orange, pos=39, isDirectChildOfRoot=true, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of D, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 4.84E-1M of A, 1.6E-25M of B, 1.61E-1M of C, 1.94E-1M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 3.75E-1M of A, 1.29E-25M of B, 1.25E-1M of C, 3.75E-1M of D, ids=from ID4 to ID5, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=State [information=InformationState [amount_A=110.0, amount_B=80.08, amount_C=90.0, amount_D=19.997999999999998, actualAmount_A=0.484, actualAmount_B=0.0, actualAmount_C=0.161, actualAmount_D=0.194, totalVol=310.0, hasReaction=true, isReasonable=true, hasChildrenWithReaction=true, isHigherCompAct=false, Color=Green, pos=35, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of C, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 3.64E-1M of B, 7.52E-26M of C, 9.09E-2M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 4.84E-1M of A, 1.6E-25M of B, 1.61E-1M of C, 1.94E-1M of D, ids=from ID3 to ID5, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=State [information=InformationState [amount_A=105.04, amount_B=90.0, amount_C=5.005, amount_D=14.95, actualAmount_A=0.5, actualAmount_B=0.364, actualAmount_C=0.0, actualAmount_D=0.0909, totalVol=220.0, hasReaction=true, isReasonable=true, hasChildrenWithReaction=true, isHigherCompAct=false, Color=Green, pos=31, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of B, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 8.08E-1M of A, 9.83E-28M of B, 3.85E-2M of C, 1.15E-1M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 3.64E-1M of B, 7.52E-26M of C, 9.09E-2M of D, ids=from ID2 to ID5, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=State [information=InformationState [amount_A=105.0, amount_B=0.0, amount_C=5.0, amount_D=15.0, actualAmount_A=0.808, actualAmount_B=0.0, actualAmount_C=0.0385, actualAmount_D=0.11499999999999999, totalVol=130.0, hasReaction=false, isReasonable=true, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Black, pos=27, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of A, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 3.75E-1M of A, 2.79E-27M of B, 1.25E-1M of C, 3.75E-1M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 8.08E-1M of A, 9.83E-28M of B, 3.85E-2M of C, 1.15E-1M of D, ids=from ID1 to ID5, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=State [information=InformationState [amount_A=10.0, amount_B=0.0, amount_C=0.0, amount_D=0.0, actualAmount_A=1.0, actualAmount_B=0.0, actualAmount_C=0.0, actualAmount_D=0.0, totalVol=10.0, hasReaction=false, isReasonable=true, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Black, pos=10, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of A, dcdDesc=Empty, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of A, ids=from ID1 to ID5, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], secondChild=State [information=InformationState [amount_A=105.0, amount_B=0.0, amount_C=5.0, amount_D=15.0, actualAmount_A=0.808, actualAmount_B=0.0, actualAmount_C=0.0385, actualAmount_D=0.11499999999999999, totalVol=130.0, hasReaction=false, isReasonable=true, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Black, pos=27, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of A, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 3.75E-1M of A, 2.79E-27M of B, 1.25E-1M of C, 3.75E-1M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 8.08E-1M of A, 9.83E-28M of B, 3.85E-2M of C, 1.15E-1M of D, ids=from ID1 to ID5, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], epsilon=0.01], secondChild=State [information=InformationState [amount_A=105.04, amount_B=90.0, amount_C=5.005, amount_D=14.95, actualAmount_A=0.5, actualAmount_B=0.364, actualAmount_C=0.0, actualAmount_D=0.0909, totalVol=220.0, hasReaction=true, isReasonable=true, hasChildrenWithReaction=true, isHigherCompAct=false, Color=Green, pos=31, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of B, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 8.08E-1M of A, 9.83E-28M of B, 3.85E-2M of C, 1.15E-1M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 3.64E-1M of B, 7.52E-26M of C, 9.09E-2M of D, ids=from ID2 to ID5, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=State [information=InformationState [amount_A=10.0, amount_B=10.0, amount_C=0.0, amount_D=0.0, actualAmount_A=0.5, actualAmount_B=0.5, actualAmount_C=0.0, actualAmount_D=0.0, totalVol=20.0, hasReaction=false, isReasonable=true, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Black, pos=14, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of B, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of A, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 5E-1M of B, ids=from ID2 to ID5, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], secondChild=State [information=InformationState [amount_A=105.04, amount_B=90.0, amount_C=5.005, amount_D=14.95, actualAmount_A=0.5, actualAmount_B=0.364, actualAmount_C=0.0, actualAmount_D=0.0909, totalVol=220.0, hasReaction=true, isReasonable=true, hasChildrenWithReaction=true, isHigherCompAct=false, Color=Green, pos=31, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of B, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 8.08E-1M of A, 9.83E-28M of B, 3.85E-2M of C, 1.15E-1M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 3.64E-1M of B, 7.52E-26M of C, 9.09E-2M of D, ids=from ID2 to ID5, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], epsilon=0.01], epsilon=0.01], secondChild=State [information=InformationState [amount_A=110.0, amount_B=80.08, amount_C=90.0, amount_D=19.997999999999998, actualAmount_A=0.484, actualAmount_B=0.0, actualAmount_C=0.161, actualAmount_D=0.194, totalVol=310.0, hasReaction=true, isReasonable=true, hasChildrenWithReaction=true, isHigherCompAct=false, Color=Green, pos=35, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of C, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 3.64E-1M of B, 7.52E-26M of C, 9.09E-2M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 4.84E-1M of A, 1.6E-25M of B, 1.61E-1M of C, 1.94E-1M of D, ids=from ID3 to ID5, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=State [information=InformationState [amount_A=10.0, amount_B=10.0, amount_C=10.0, amount_D=0.0, actualAmount_A=0.5, actualAmount_B=0.0, actualAmount_C=0.16699999999999998, actualAmount_D=0.16699999999999998, totalVol=30.0, hasReaction=true, isReasonable=true, hasChildrenWithReaction=true, isHigherCompAct=false, Color=Green, pos=18, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of C, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 5E-1M of B, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 1.38E-25M of B, 1.67E-1M of C, 1.67E-1M of D, ids=from ID3 to ID5, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], secondChild=State [information=InformationState [amount_A=110.0, amount_B=80.08, amount_C=90.0, amount_D=19.997999999999998, actualAmount_A=0.484, actualAmount_B=0.0, actualAmount_C=0.161, actualAmount_D=0.194, totalVol=310.0, hasReaction=true, isReasonable=true, hasChildrenWithReaction=true, isHigherCompAct=false, Color=Green, pos=35, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of C, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 3.64E-1M of B, 7.52E-26M of C, 9.09E-2M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 4.84E-1M of A, 1.6E-25M of B, 1.61E-1M of C, 1.94E-1M of D, ids=from ID3 to ID5, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], epsilon=0.01], epsilon=0.01], secondChild=State [information=InformationState [amount_A=150.04, amount_B=0.0, amount_C=49.910000000000004, amount_D=150.14, actualAmount_A=0.375, actualAmount_B=0.0, actualAmount_C=0.125, actualAmount_D=0.375, totalVol=400.0, hasReaction=false, isReasonable=false, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Red, pos=39, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of D, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 4.84E-1M of A, 1.6E-25M of B, 1.61E-1M of C, 1.94E-1M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 3.75E-1M of A, 1.29E-25M of B, 1.25E-1M of C, 3.75E-1M of D, ids=from ID4 to ID5, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=State [information=InformationState [amount_A=15.0, amount_B=0.0, amount_C=5.01, amount_D=15.01, actualAmount_A=0.375, actualAmount_B=0.0, actualAmount_C=0.125, actualAmount_D=0.375, totalVol=40.0, hasReaction=false, isReasonable=false, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Red, pos=22, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of D, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 1.38E-25M of B, 1.67E-1M of C, 1.67E-1M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 3.75E-1M of A, 2.79E-27M of B, 1.25E-1M of C, 3.75E-1M of D, ids=from ID4 to ID5, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], secondChild=State [information=InformationState [amount_A=150.04, amount_B=0.0, amount_C=49.910000000000004, amount_D=150.14, actualAmount_A=0.375, actualAmount_B=0.0, actualAmount_C=0.125, actualAmount_D=0.375, totalVol=400.0, hasReaction=false, isReasonable=false, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Red, pos=39, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of D, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 4.84E-1M of A, 1.6E-25M of B, 1.61E-1M of C, 1.94E-1M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 3.75E-1M of A, 1.29E-25M of B, 1.25E-1M of C, 3.75E-1M of D, ids=from ID4 to ID5, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], epsilon=0.01], epsilon=0.01], State [information=InformationState [amount_A=0.0, amount_B=0.0, amount_C=10.0, amount_D=10.0, actualAmount_A=0.0, actualAmount_B=0.0, actualAmount_C=0.5, actualAmount_D=0.5, totalVol=20.0, hasReaction=false, isReasonable=false, hasChildrenWithReaction=false, isHigherCompAct=true, Color=Red, pos=53, isDirectChildOfRoot=true, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of C, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 9.99E-16M of C, 1E0M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of C, 5E-1M of D, ids=from ID8 to ID3, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=State [information=InformationState [amount_A=0.0, amount_B=0.0, amount_C=0.0, amount_D=10.0, actualAmount_A=0.0, actualAmount_B=0.0, actualAmount_C=0.0, actualAmount_D=1.0, totalVol=10.0, hasReaction=false, isReasonable=false, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Red, pos=47, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of D, dcdDesc= 0E0g of H2O, 7.23E-8M of H+, 7.23E-8M of OH-, 7.2E-1M of C, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 9.99E-16M of C, 1E0M of D, ids=from ID9 to ID3, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], secondChild=State [information=InformationState [amount_A=0.0, amount_B=0.0, amount_C=10.0, amount_D=10.0, actualAmount_A=0.0, actualAmount_B=0.0, actualAmount_C=0.5, actualAmount_D=0.5, totalVol=20.0, hasReaction=false, isReasonable=false, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Red, pos=53, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of C, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 9.99E-16M of C, 1E0M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of C, 5E-1M of D, ids=from ID8 to ID3, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], epsilon=0.01], State [information=InformationState [amount_A=10.0, amount_B=10.0, amount_C=10.0, amount_D=0.0, actualAmount_A=0.5, actualAmount_B=0.0, actualAmount_C=0.16699999999999998, actualAmount_D=0.16699999999999998, totalVol=30.0, hasReaction=true, isReasonable=true, hasChildrenWithReaction=true, isHigherCompAct=true, Color=Green, pos=71, isDirectChildOfRoot=true, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of C, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of B, 5E-1M of A, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1.38E-25M of B, 5E-1M of A, 1.67E-1M of C, 1.67E-1M of D, ids=from ID8 to ID2, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=State [information=InformationState [amount_A=10.0, amount_B=10.0, amount_C=0.0, amount_D=0.0, actualAmount_A=0.5, actualAmount_B=0.5, actualAmount_C=0.0, actualAmount_D=0.0, totalVol=20.0, hasReaction=false, isReasonable=false, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Red, pos=61, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of A, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of B, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of B, 5E-1M of A, ids=from ID6 to ID2, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=State [information=InformationState [amount_A=0.0, amount_B=10.0, amount_C=0.0, amount_D=0.0, actualAmount_A=0.0, actualAmount_B=1.0, actualAmount_C=0.0, actualAmount_D=0.0, totalVol=10.0, hasReaction=false, isReasonable=false, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Red, pos=57, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of B, dcdDesc= 0E0g of H2O, 7.23E-8M of H+, 7.23E-8M of OH-, 7.2E-1M of B, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of B, ids=from ID7 to ID2, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], secondChild=State [information=InformationState [amount_A=10.0, amount_B=10.0, amount_C=0.0, amount_D=0.0, actualAmount_A=0.5, actualAmount_B=0.5, actualAmount_C=0.0, actualAmount_D=0.0, totalVol=20.0, hasReaction=false, isReasonable=false, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Red, pos=61, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of A, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of B, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of B, 5E-1M of A, ids=from ID6 to ID2, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], epsilon=0.01], secondChild=State [information=InformationState [amount_A=10.0, amount_B=10.0, amount_C=10.0, amount_D=0.0, actualAmount_A=0.5, actualAmount_B=0.0, actualAmount_C=0.16699999999999998, actualAmount_D=0.16699999999999998, totalVol=30.0, hasReaction=true, isReasonable=true, hasChildrenWithReaction=true, isHigherCompAct=false, Color=Green, pos=71, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of C, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of B, 5E-1M of A, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1.38E-25M of B, 5E-1M of A, 1.67E-1M of C, 1.67E-1M of D, ids=from ID8 to ID2, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], epsilon=0.01], State [information=InformationState [amount_A=15.0, amount_B=0.0, amount_C=5.01, amount_D=15.01, actualAmount_A=0.375, actualAmount_B=0.0, actualAmount_C=0.125, actualAmount_D=0.375, totalVol=40.0, hasReaction=false, isReasonable=true, hasChildrenWithReaction=true, isHigherCompAct=true, Color=Orange, pos=105, isDirectChildOfRoot=true, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of D, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 1.38E-25M of B, 1.67E-1M of C, 1.67E-1M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 3.75E-1M of A, 2.79E-27M of B, 1.25E-1M of C, 3.75E-1M of D, ids=from ID13 to ID14, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=State [information=InformationState [amount_A=10.0, amount_B=10.0, amount_C=10.0, amount_D=0.0, actualAmount_A=0.5, actualAmount_B=0.0, actualAmount_C=0.16699999999999998, actualAmount_D=0.16699999999999998, totalVol=30.0, hasReaction=true, isReasonable=true, hasChildrenWithReaction=true, isHigherCompAct=false, Color=Green, pos=100, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of C, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 5E-1M of B, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 1.38E-25M of B, 1.67E-1M of C, 1.67E-1M of D, ids=from ID12 to ID14, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=State [information=InformationState [amount_A=10.0, amount_B=10.0, amount_C=0.0, amount_D=0.0, actualAmount_A=0.5, actualAmount_B=0.5, actualAmount_C=0.0, actualAmount_D=0.0, totalVol=20.0, hasReaction=false, isReasonable=false, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Red, pos=95, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of B, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of A, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 5E-1M of B, ids=from ID11 to ID14, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=State [information=InformationState [amount_A=10.0, amount_B=0.0, amount_C=0.0, amount_D=0.0, actualAmount_A=1.0, actualAmount_B=0.0, actualAmount_C=0.0, actualAmount_D=0.0, totalVol=10.0, hasReaction=false, isReasonable=false, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Red, pos=91, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of A, dcdDesc=Empty, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of A, ids=from ID10 to ID14, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=State [information=InformationState [amount_A=10.0, amount_B=0.0, amount_C=0.0, amount_D=0.0, actualAmount_A=1.0, actualAmount_B=0.0, actualAmount_C=0.0, actualAmount_D=0.0, totalVol=10.0, hasReaction=false, isReasonable=false, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Red, pos=91, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of A, dcdDesc=Empty, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of A, ids=from ID10 to ID14, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], secondChild=State [information=InformationState [amount_A=10.0, amount_B=0.0, amount_C=0.0, amount_D=0.0, actualAmount_A=1.0, actualAmount_B=0.0, actualAmount_C=0.0, actualAmount_D=0.0, totalVol=10.0, hasReaction=false, isReasonable=false, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Red, pos=91, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of A, dcdDesc=Empty, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of A, ids=from ID10 to ID14, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], epsilon=0.01], secondChild=State [information=InformationState [amount_A=10.0, amount_B=10.0, amount_C=0.0, amount_D=0.0, actualAmount_A=0.5, actualAmount_B=0.5, actualAmount_C=0.0, actualAmount_D=0.0, totalVol=20.0, hasReaction=false, isReasonable=false, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Red, pos=95, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of B, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of A, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 5E-1M of B, ids=from ID11 to ID14, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], epsilon=0.01], secondChild=State [information=InformationState [amount_A=10.0, amount_B=10.0, amount_C=10.0, amount_D=0.0, actualAmount_A=0.5, actualAmount_B=0.0, actualAmount_C=0.16699999999999998, actualAmount_D=0.16699999999999998, totalVol=30.0, hasReaction=true, isReasonable=true, hasChildrenWithReaction=true, isHigherCompAct=false, Color=Green, pos=100, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of C, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 5E-1M of B, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 1.38E-25M of B, 1.67E-1M of C, 1.67E-1M of D, ids=from ID12 to ID14, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], epsilon=0.01], secondChild=State [information=InformationState [amount_A=15.0, amount_B=0.0, amount_C=5.01, amount_D=15.01, actualAmount_A=0.375, actualAmount_B=0.0, actualAmount_C=0.125, actualAmount_D=0.375, totalVol=40.0, hasReaction=false, isReasonable=false, hasChildrenWithReaction=false, isHigherCompAct=false, Color=Red, pos=105, isDirectChildOfRoot=false, scdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 1E0M of D, dcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 5E-1M of A, 1.38E-25M of B, 1.67E-1M of C, 1.67E-1M of D, rcdDesc= 0E0g of H2O, 1E-7M of H+, 1E-7M of OH-, 3.75E-1M of A, 2.79E-27M of B, 1.25E-1M of C, 3.75E-1M of D, ids=from ID13 to ID14, AHasPoured=false, BHasPoured=false, CHasPoured=false, DHasPoured=false], firstChild=null, secondChild=null, epsilon=0.01], epsilon=0.01]]";
		assertEquals(expected, actual);
		Node root = result.getRoot();
		actual = root.toString();
		expected = "[ROOT: null]";
		assertEquals(expected, actual);
	}
	
	@Test
	public void checkReasonableBadInputTest() {
		CheckReasonableResult result;
		result = XMLReader.checkReasonable(badExample);
		assertNull(result);
	}
	
	

}
